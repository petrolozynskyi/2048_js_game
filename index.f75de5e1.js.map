{"mappings":"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","sources":["src/scripts/main.js"],"sourcesContent":["'use strict';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const gridDisplay = document.querySelector('.grid');\n  const scoreDisplay = document.getElementById('score');\n  const resultDisplay = document.getElementById('result');\n  const newGameButton = document.getElementById('new-game');\n  const squares = [];\n  const width = 4;\n  let score = 0;\n\n  function resetGame() {\n    for (let i = 0; i < squares.length; i++) {\n      squares[i].innerHTML = 0;\n    }\n    score = 0;\n    scoreDisplay.innerHTML = score;\n    resultDisplay.innerHTML = 'Join the numbers and get to the <b>2048</b> tile!';\n    generate();\n    generate();\n  }\n\n  function clearStyles() {\n    for (let i = 0; i < squares.length; i++) {\n      squares[i].style.backgroundColor = '#afa192';\n    }\n  }\n\n  function handleNewGameClick() {\n    resetGame();\n    clearStyles();\n    addColours();\n    document.addEventListener('keyup', control);\n  }\n\n  newGameButton.addEventListener('click', handleNewGameClick);\n\n  function createBoard() {\n    for (let i = 0; i < width * width; i++) {\n      const square = document.createElement('div');\n\n      square.innerHTML = '0';\n      gridDisplay.appendChild(square);\n      squares.push(square);\n    }\n    generate();\n    generate();\n  }\n  createBoard();\n\n  function generate() {\n    const emptySquares = squares.filter(square => square.innerHTML === '0');\n\n    if (emptySquares.length === 0) {\n      checkForGameOver();\n      checkForWin();\n\n      return;\n    }\n\n    const randomIndex = Math.floor(Math.random() * emptySquares.length);\n    const newValue = Math.random() < 0.9 ? '2' : '4';\n\n    emptySquares[randomIndex].innerHTML = newValue;\n    checkForGameOver();\n  }\n\n  const BOARD_SIZE = 4;\n  const ROW_SIZE = 4;\n\n  function moveRight() {\n    for (let i = 0; i < BOARD_SIZE * ROW_SIZE; i++) {\n      if (i % 4 === 0) {\n        const totalOne = squares[i].innerHTML;\n        const totalTwo = squares[i + 1].innerHTML;\n        const totalThree = squares[i + 2].innerHTML;\n        const totalFour = squares[i + 3].innerHTML;\n        const row = [parseInt(totalOne), parseInt(totalTwo), parseInt(totalThree), parseInt(totalFour)];\n\n        const filteredRow = row.filter(num => num);\n        const missing = ROW_SIZE - filteredRow.length;\n        const zeros = Array(missing).fill(0);\n        const newRow = zeros.concat(filteredRow);\n\n        squares[i].innerHTML = newRow[0];\n        squares[i + 1].innerHTML = newRow[1];\n        squares[i + 2].innerHTML = newRow[2];\n        squares[i + 3].innerHTML = newRow[3];\n      }\n    }\n  }\n\n  function moveLeft() {\n    for (let i = 0; i < BOARD_SIZE * ROW_SIZE; i++) {\n      if (i % ROW_SIZE === 0) {\n        const totalOne = squares[i].innerHTML;\n        const totalTwo = squares[i + 1].innerHTML;\n        const totalThree = squares[i + 2].innerHTML;\n        const totalFour = squares[i + 3].innerHTML;\n        const row = [parseInt(totalOne), parseInt(totalTwo), parseInt(totalThree), parseInt(totalFour)];\n\n        const filteredRow = row.filter(num => num);\n        const missing = ROW_SIZE - filteredRow.length;\n\n        const zeros = Array(missing).fill(0);\n\n        const newRow = filteredRow.concat(zeros);\n\n        squares[i].innerHTML = newRow[0];\n        squares[i + 1].innerHTML = newRow[1];\n        squares[i + 2].innerHTML = newRow[2];\n        squares[i + 3].innerHTML = newRow[3];\n      }\n    }\n  }\n\n  function moveUp() {\n    for (let i = 0; i < ROW_SIZE; i++) {\n      const totalOne = squares[i].innerHTML;\n      const totalTwo = squares[i + BOARD_SIZE].innerHTML;\n      const totalThree = squares[i + (BOARD_SIZE * 2)].innerHTML;\n      const totalFour = squares[i + (BOARD_SIZE * 3)].innerHTML;\n      const column = [parseInt(totalOne), parseInt(totalTwo), parseInt(totalThree), parseInt(totalFour)];\n\n      const filteredColumn = column.filter(num => num);\n      const missing = ROW_SIZE - filteredColumn.length;\n      const zeros = Array(missing).fill(0);\n      const newColumn = filteredColumn.concat(zeros);\n\n      squares[i].innerHTML = newColumn[0];\n      squares[i + BOARD_SIZE].innerHTML = newColumn[1];\n      squares[i + (BOARD_SIZE * 2)].innerHTML = newColumn[2];\n      squares[i + (BOARD_SIZE * 3)].innerHTML = newColumn[3];\n    }\n  }\n\n  function moveDown() {\n    for (let i = 0; i < ROW_SIZE; i++) {\n      const totalOne = squares[i].innerHTML;\n      const totalTwo = squares[i + BOARD_SIZE].innerHTML;\n      const totalThree = squares[i + (BOARD_SIZE * 2)].innerHTML;\n      const totalFour = squares[i + (BOARD_SIZE * 3)].innerHTML;\n      const column = [parseInt(totalOne), parseInt(totalTwo), parseInt(totalThree), parseInt(totalFour)];\n\n      const filteredColumn = column.filter(num => num);\n      const missing = 4 - filteredColumn.length;\n      const zeros = Array(missing).fill(0);\n      const newColumn = zeros.concat(filteredColumn);\n\n      squares[i].innerHTML = newColumn[0];\n      squares[i + BOARD_SIZE].innerHTML = newColumn[1];\n      squares[i + (BOARD_SIZE * 2)].innerHTML = newColumn[2];\n      squares[i + (BOARD_SIZE * 3)].innerHTML = newColumn[3];\n    }\n  }\n\n  function combineRow() {\n    for (let i = 0; i < (BOARD_SIZE * ROW_SIZE) - 1; i++) {\n      if (squares[i].innerHTML === squares[i + 1].innerHTML) {\n        const combinedTotal = parseInt(squares[i].innerHTML) + parseInt(squares[i + 1].innerHTML);\n\n        squares[i].innerHTML = combinedTotal;\n        squares[i + 1].innerHTML = '0';\n        score += combinedTotal;\n        scoreDisplay.innerHTML = score;\n      }\n    }\n    checkForWin();\n  }\n\n  function combineColumn() {\n    for (let i = 0; i < BOARD_SIZE * (ROW_SIZE - 1); i++) {\n      if (squares[i].innerHTML === squares[i + BOARD_SIZE].innerHTML) {\n        const combinedTotal = parseInt(squares[i].innerHTML) + parseInt(squares[i + BOARD_SIZE].innerHTML);\n\n        squares[i].innerHTML = combinedTotal;\n        squares[i + BOARD_SIZE].innerHTML = '0';\n        score += combinedTotal;\n        scoreDisplay.innerHTML = score;\n      }\n    }\n    checkForWin();\n  }\n\n  function control(e) {\n    switch (e.keyCode) {\n      case 37:\n        keyLeft();\n        break;\n      case 38:\n        keyUp();\n        break;\n      case 39:\n        keyRight();\n        break;\n      case 40:\n        keyDown();\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  document.addEventListener('keyup', control);\n\n  function keyRight() {\n    const previousState = getGameState();\n\n    moveRight();\n    combineRow();\n    moveRight();\n\n    const currentState = getGameState();\n\n    if (!compareStates(previousState, currentState)) {\n      generate();\n    }\n  }\n\n  function keyLeft() {\n    const previousState = getGameState();\n\n    moveLeft();\n    combineRow();\n    moveLeft();\n\n    const currentState = getGameState();\n\n    if (!compareStates(previousState, currentState)) {\n      generate();\n    }\n  }\n\n  function keyUp() {\n    const previousState = getGameState();\n\n    moveUp();\n    combineColumn();\n    moveUp();\n\n    const currentState = getGameState();\n\n    if (!compareStates(previousState, currentState)) {\n      generate();\n    }\n  }\n\n  function keyDown() {\n    const previousState = getGameState();\n\n    moveDown();\n    combineColumn();\n    moveDown();\n\n    const currentState = getGameState();\n\n    if (!compareStates(previousState, currentState)) {\n      generate();\n    }\n  }\n\n  function checkForWin() {\n    for (let i = 0; i < squares.length; i++) {\n      const value = parseInt(squares[i].innerHTML);\n\n      if (value >= 2048) {\n        resultDisplay.innerHTML = 'You WIN';\n        document.removeEventListener('keyup', control);\n        setTimeout(() => clear(), 3000);\n        break;\n      }\n    }\n  }\n\n  function checkForGameOver() {\n    let zeros = 0;\n\n    for (let i = 0; i < squares.length; i++) {\n      if (squares[i].innerHTML === '0') {\n        zeros++;\n      }\n    }\n\n    if (zeros === 0 && !canMove()) {\n      resultDisplay.innerHTML = 'You LOSE, try again!';\n      document.removeEventListener('keyup', control);\n    }\n  }\n\n  function canMove() {\n    for (let i = 0; i < squares.length; i++) {\n      const currentSquare = squares[i].innerHTML;\n      const rightSquare = i % width < width - 1 ? squares[i + 1].innerHTML : null;\n      const leftSquare = i % width > 0 ? squares[i - 1].innerHTML : null;\n      const upSquare = i >= width ? squares[i - width].innerHTML : null;\n      const downSquare = i < width * (width - 1) ? squares[i + width].innerHTML : null;\n\n      if (\n        currentSquare === rightSquare\n        || currentSquare === leftSquare\n        || currentSquare === upSquare\n        || currentSquare === downSquare\n      ) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  function clear() {\n    clearInterval(myTimer);\n  }\n\n  function addColours() {\n    for (let i = 0; i < squares.length; i++) {\n      const value = squares[i].innerHTML;\n\n      squares[i].style.backgroundColor = value === '0' ? getColor(value) : getColor(value);\n      squares[i].style.color = value === '0' ? 'transparent' : 'black';\n    }\n  }\n\n  function getColor(value) {\n    const colorMap = {\n      '2': '#eee4da',\n      '4': '#ede0c8',\n      '8': '#f2b179',\n      '16': '#ffcea4',\n      '32': '#e8c064',\n      '64': '#ffab6e',\n      '128': '#fd9982',\n      '256': '#ead79c',\n      '512': '#76daff',\n      '1024': '#beeaa5',\n      '2048': '#d7d4f0',\n    };\n\n    return colorMap[value] || '#afa192';\n  }\n\n  function getGameState() {\n    return squares.map(square => square.innerHTML);\n  }\n\n  function compareStates(state1, state2) {\n    return state1.join() === state2.join();\n  }\n\n  addColours();\n\n  function updateColors() {\n    addColours();\n\n    const currentState = getGameState();\n    const previousState = getGameState();\n\n    if (!compareStates(previousState, currentState)) {\n      setTimeout(() => {\n        generate();\n        addColours();\n      }, 200);\n    }\n  }\n\n  document.addEventListener('keyup', () => {\n    updateColors();\n  });\n\n  newGameButton.addEventListener('click', () => {\n    updateColors();\n  });\n\n  updateColors();\n});\n"],"names":[],"version":3,"file":"index.f75de5e1.js.map","sourceRoot":"/__parcel_source_root/"}